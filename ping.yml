- name: Ping and List
  hosts: "{{ variable_host | default('all') }}"
  tasks:
    - name: Ping
      ping:
    - name: list
      command: ls
    - name: check storage CentOS
      command: free
      when: ansible_facts['distribution'] == "CentOS"
      register: linuxoutput
#    - debug: var=linuxoutput.stdout_lines
    - name: check storage FreeBSD
      command: swapinfo
      when: ansible_facts['distribution'] == "FreeBSD"
      register: bsdoutput
    - name: Set output for different servers 
      set_fact: 
         myoutput = {{bsdoutput if (ansible_facts['distribution'] == "FreeBSD") else linuxoutput}}
    - debug: var=myoutput 
    #- debug: var=bsdoutput.stdout_lines if ansible_facts['distribution'] == "FreeBSD" else var=linuxoutput.stdout_lines
#tr_result: "{{ '{\"status\": \"SUCCESS\"}' if (op_result['output'] == 'Deleted') else '{\"status\" : \"FAILED\"}' }}"
