- name: Ping and List
  hosts: "{{ variable_host | default('all') }}"
  tasks:
    - name: Ping
      ping:
    - name: list
      command: ls
    - name: check storage CentOS
      command: free
      when: ansible_facts['distribution'] == "CentOS"
      register: centosoutput
    - name: check storage FreeBSD
      command: swapinfo
      when: ansible_facts['distribution'] == "FreeBSD"
      register: bsdoutput
    - set_fact:
        bsdoutput={{ bsdoutput }}
        centosoutput={{ centosoutput }}
    - debug: var=centosoutput
    - debug: var=bsdoutput
